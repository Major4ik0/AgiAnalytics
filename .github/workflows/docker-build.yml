name: Build Multi-Platform Executable

on:
  push:
    branches: [main]
  pull_request:
    branches: [main]
  workflow_dispatch:

jobs:
  # –°–±–æ—Ä–∫–∞ –¥–ª—è Windows
  build-windows:
    strategy:
      matrix:
        python-version: ['3.8', '3.10']
        architecture: ['x86', 'x64']
        include:
          - python-version: '3.8'
            architecture: 'x86'
            windows-version: '7'
          - python-version: '3.8'
            architecture: 'x64'
            windows-version: '7'
          - python-version: '3.10'
            architecture: 'x86'
            windows-version: '10'
          - python-version: '3.10'
            architecture: 'x64'
            windows-version: '10'

    runs-on: windows-latest

    steps:
    - uses: actions/checkout@v4

    - name: Setup Python ${{ matrix.python-version }} (${{ matrix.architecture }})
      uses: actions/setup-python@v5
      with:
        python-version: ${{ matrix.python-version }}
        architecture: ${{ matrix.architecture }}

    - name: Install dependencies
      run: |
        python -m pip install --upgrade pip
        pip install -r requirements.txt
        pip install pyinstaller==5.13.0

    - name: Build executable for Windows
      run: |
        # –î–ª—è Windows 7 –∏—Å–ø–æ–ª—å–∑—É–µ–º –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ–ª–∞–≥–∏
        $pyinstaller_args = @(
          "--onefile",
          "--windowed",
          "--name=AgiAnalytics_Win${{ matrix.windows-version }}_${{ matrix.architecture }}",
          "--clean",
          "--noconfirm",
          "--distpath=dist",
          "--hidden-import=PyQt5",
          "--hidden-import=PyQt5.QtCore",
          "--hidden-import=PyQt5.QtGui",
          "--hidden-import=PyQt5.QtWidgets",
          "--hidden-import=pandas",
          "--hidden-import=numpy",
          "--hidden-import=openpyxl",
          "--hidden-import=sqlite3",
          "--add-data=database.py;.",
          "--add-data=statistics_widget.py;."
        )
        
        # –î–ª—è Windows 7 –æ—Ç–∫–ª—é—á–∞–µ–º UPX –∏ –¥–æ–±–∞–≤–ª—è–µ–º —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Ñ–ª–∞–≥–∏
        if ("${{ matrix.windows-version }}" -eq "7") {
          $pyinstaller_args += @("--noupx", "--disable-windowed-traceback")
        }
        
        # –î–æ–±–∞–≤–ª—è–µ–º –∏–∫–æ–Ω–∫—É –µ—Å–ª–∏ –µ—Å—Ç—å
        if (Test-Path "icon.ico") {
          $pyinstaller_args += @("--icon=icon.ico")
        }
        
        # –î–æ–±–∞–≤–ª—è–µ–º –æ—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª
        $pyinstaller_args += @("main.py")
        
        Write-Host "–°–±–æ—Ä–∫–∞ —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏: $pyinstaller_args"
        pyinstaller @pyinstaller_args
        
        # –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç
        $exe_path = "dist/AgiAnalytics_Win${{ matrix.windows-version }}_${{ matrix.architecture }}.exe"
        if (Test-Path $exe_path) {
          $size = (Get-Item $exe_path).Length
          Write-Host "‚úÖ Windows build successful! File: $exe_path"
          Write-Host "üìè File size: $size bytes"
        } else {
          Write-Error "‚ùå Windows build failed - executable not found"
          exit 1
        }

    - name: Upload Windows artifact
      uses: actions/upload-artifact@v4
      with:
        name: AgiAnalytics-Win${{ matrix.windows-version }}-${{ matrix.architecture }}
        path: dist/AgiAnalytics_Win${{ matrix.windows-version }}_${{ matrix.architecture }}.exe
        retention-days: 30

  # –°–±–æ—Ä–∫–∞ –¥–ª—è macOS
  build-macos:
    runs-on: macos-latest

    steps:
    - uses: actions/checkout@v4

    - name: Setup Python 3.10
      uses: actions/setup-python@v5
      with:
        python-version: '3.10'

    - name: Install dependencies for macOS
      run: |
        python -m pip install --upgrade pip
        pip install -r requirements.txt
        pip install pyinstaller==5.13.0
        
        # –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –¥–ª—è PyQt5 –Ω–∞ macOS
        brew install qt@5

    - name: Build for macOS
      run: |
        # –î–ª—è macOS –∏—Å–ø–æ–ª—å–∑—É–µ–º —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
        pyinstaller \
          --onefile \
          --windowed \
          --name=AgiAnalytics_macOS \
          --clean \
          --noconfirm \
          --distpath=dist_mac \
          --hidden-import=PyQt5 \
          --hidden-import=PyQt5.QtCore \
          --hidden-import=PyQt5.QtGui \
          --hidden-import=PyQt5.QtWidgets \
          --hidden-import=pandas \
          --hidden-import=numpy \
          --hidden-import=openpyxl \
          --hidden-import=sqlite3 \
          --add-data="database.py:." \
          --add-data="statistics_widget.py:." \
          main.py
        
        # –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç
        if [ -f "dist_mac/AgiAnalytics_macOS" ]; then
          echo "‚úÖ macOS build successful!"
          ls -la dist_mac/
        else
          echo "‚ùå macOS build failed"
          exit 1
        fi

    - name: Create macOS app bundle
      run: |
        # –°–æ–∑–¥–∞–µ–º —Å—Ç—Ä—É–∫—Ç—É—Ä—É .app –¥–ª—è macOS
        mkdir -p "AgiAnalytics.app/Contents/MacOS"
        mkdir -p "AgiAnalytics.app/Contents/Resources"
        
        # –ö–æ–ø–∏—Ä—É–µ–º –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–π —Ñ–∞–π–ª
        cp dist_mac/AgiAnalytics_macOS "AgiAnalytics.app/Contents/MacOS/AgiAnalytics"
        chmod +x "AgiAnalytics.app/Contents/MacOS/AgiAnalytics"
        
        # –°–æ–∑–¥–∞–µ–º Info.plist
        cat > "AgiAnalytics.app/Contents/Info.plist" << EOF
        <?xml version="1.0" encoding="UTF-8"?>
        <!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">
        <plist version="1.0">
        <dict>
            <key>CFBundleName</key>
            <string>AgiAnalytics</string>
            <key>CFBundleDisplayName</key>
            <string>AgiAnalytics</string>
            <key>CFBundleIdentifier</key>
            <string>com.agiana.analytics</string>
            <key>CFBundleVersion</key>
            <string>1.0.0</string>
            <key>CFBundlePackageType</key>
            <string>APPL</string>
            <key>CFBundleSignature</key>
            <string>????</string>
            <key>CFBundleExecutable</key>
            <string>AgiAnalytics</string>
            <key>LSMinimumSystemVersion</key>
            <string>10.13</string>
        </dict>
        </plist>
        EOF
        
        # –î–æ–±–∞–≤–ª—è–µ–º –∏–∫–æ–Ω–∫—É –µ—Å–ª–∏ –µ—Å—Ç—å
        if [ -f "icon.icns" ]; then
          cp icon.icns "AgiAnalytics.app/Contents/Resources/"
          echo "    <key>CFBundleIconFile</key>" >> "AgiAnalytics.app/Contents/Info.plist"
          echo "    <string>icon.icns</string>" >> "AgiAnalytics.app/Contents/Info.plist"
        fi
        
        echo "</dict></plist>" >> "AgiAnalytics.app/Contents/Info.plist"
        
        echo "‚úÖ macOS app bundle created"
        ls -la AgiAnalytics.app/

    - name: Compress macOS app
      run: |
        # –°–æ–∑–¥–∞–µ–º –∞—Ä—Ö–∏–≤ —Å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º
        tar -czf AgiAnalytics_macOS.tar.gz AgiAnalytics.app/
        echo "‚úÖ macOS archive created"
        ls -la AgiAnalytics_macOS.tar.gz

    - name: Upload macOS artifact
      uses: actions/upload-artifact@v4
      with:
        name: AgiAnalytics-macOS
        path: |
          AgiAnalytics_macOS.tar.gz
          dist_mac/AgiAnalytics_macOS
        retention-days: 30

  # –°–æ–∑–¥–∞–Ω–∏–µ —Ä–µ–ª–∏–∑–∞ —Å–æ –≤—Å–µ–º–∏ —Ñ–∞–π–ª–∞–º–∏
  create-release:
    needs: [build-windows, build-macos]
    runs-on: ubuntu-latest
    if: github.event_name == 'push' && github.ref == 'refs/heads/main'
    permissions:
      contents: write

    steps:
    - name: Download Windows 7 x86 artifact
      uses: actions/download-artifact@v4
      with:
        name: AgiAnalytics-Win7-x86
        path: release_files/Windows7

    - name: Download Windows 7 x64 artifact
      uses: actions/download-artifact@v4
      with:
        name: AgiAnalytics-Win7-x64
        path: release_files/Windows7

    - name: Download Windows 10 x86 artifact
      uses: actions/download-artifact@v4
      with:
        name: AgiAnalytics-Win10-x86
        path: release_files/Windows10

    - name: Download Windows 10 x64 artifact
      uses: actions/download-artifact@v4
      with:
        name: AgiAnalytics-Win10-x64
        path: release_files/Windows10

    - name: Download macOS artifact
      uses: actions/download-artifact@v4
      with:
        name: AgiAnalytics-macOS
        path: release_files/macOS

    - name: List downloaded files
      run: |
        echo "üìÅ –í—Å–µ —Å–∫–∞—á–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:"
        find release_files -type f | while read file; do
          echo "  - $file"
          ls -la "$file"
        done

    - name: Create README files
      run: |
        # README –¥–ª—è Windows
        cat > release_files/README_Windows.txt << 'EOF'
        AgiAnalytics –¥–ª—è Windows
        
        –î–æ—Å—Ç—É–ø–Ω—ã–µ –≤–µ—Ä—Å–∏–∏:
        
        1. Windows 7:
           - AgiAnalytics_Win7_x86.exe: 32-–±–∏—Ç–Ω–∞—è –≤–µ—Ä—Å–∏—è –¥–ª—è Windows 7
           - AgiAnalytics_Win7_x64.exe: 64-–±–∏—Ç–Ω–∞—è –≤–µ—Ä—Å–∏—è –¥–ª—è Windows 7
        
        2. Windows 10/11:
           - AgiAnalytics_Win10_x86.exe: 32-–±–∏—Ç–Ω–∞—è –≤–µ—Ä—Å–∏—è –¥–ª—è Windows 10/11
           - AgiAnalytics_Win10_x64.exe: 64-–±–∏—Ç–Ω–∞—è –≤–µ—Ä—Å–∏—è –¥–ª—è Windows 10/11
        
        –°–∏—Å—Ç–µ–º–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –¥–ª—è Windows:
        - Windows 7 SP1 –∏–ª–∏ –Ω–æ–≤–µ–µ
        - .NET Framework 4.5 (–¥–ª—è Windows 7)
        - 2 –ì–ë –û–ó–£
        - 100 –ú–ë —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ –º–µ—Å—Ç–∞
        
        –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ:
        1. –í—ã–±–µ—Ä–∏—Ç–µ –≤–µ—Ä—Å–∏—é –¥–ª—è –≤–∞—à–µ–π —Å–∏—Å—Ç–µ–º—ã
        2. –°–∫–∞—á–∞–π—Ç–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π .exe —Ñ–∞–π–ª
        3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ñ–∞–π–ª
        
        –ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º:
        - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Visual C++ Redistributable –¥–ª—è Visual Studio 2015-2022
        - –ó–∞–ø—É—Å—Ç–∏—Ç–µ –æ—Ç –∏–º–µ–Ω–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
        EOF
        
        # README –¥–ª—è macOS
        cat > release_files/README_macOS.txt << 'EOF'
        AgiAnalytics –¥–ª—è macOS
        
        –§–∞–π–ª—ã:
        - AgiAnalytics_macOS.tar.gz: –ê—Ä—Ö–∏–≤ —Å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º
        - AgiAnalytics_macOS: –ò—Å–ø–æ–ª–Ω—è–µ–º—ã–π —Ñ–∞–π–ª
        
        –°–∏—Å—Ç–µ–º–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –¥–ª—è macOS:
        - macOS 10.13 (High Sierra) –∏–ª–∏ –Ω–æ–≤–µ–µ
        - 2 –ì–ë –û–ó–£
        - 100 –ú–ë —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ –º–µ—Å—Ç–∞
        
        –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ:
        1. –†–∞—Å–ø–∞–∫—É–π—Ç–µ –∞—Ä—Ö–∏–≤ AgiAnalytics_macOS.tar.gz
        2. –ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ AgiAnalytics.app –≤ –ø–∞–ø–∫—É "–ü—Ä–æ–≥—Ä–∞–º–º—ã"
        3. –ü—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ –º–æ–∂–µ—Ç –ø–æ—Ç—Ä–µ–±–æ–≤–∞—Ç—å—Å—è —Ä–∞–∑—Ä–µ—à–∏—Ç—å –∑–∞–ø—É—Å–∫
           –≤ "–°–∏—Å—Ç–µ–º–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏" ‚Üí "–ó–∞—â–∏—Ç–∞ –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å"
        
        –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ –ø–æ–¥–ø–∏—Å–∞–Ω–æ, –ø–æ—ç—Ç–æ–º—É –º–æ–∂–µ—Ç –ø–æ—Ç—Ä–µ–±–æ–≤–∞—Ç—å—Å—è
        —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –Ω–∞ –∑–∞–ø—É—Å–∫ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏.
        EOF
        
        # –û–±—â–∏–π README
        cat > release_files/README.md << 'EOF'
        # AgiAnalytics - –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –∞–±–∏—Ç—É—Ä–∏–µ–Ω—Ç–æ–≤
        
        ## –ü–ª–∞—Ç—Ñ–æ—Ä–º—ã
        
        ### ü™ü Windows
        - **Windows 7** (32-bit –∏ 64-bit)
        - **Windows 10/11** (32-bit –∏ 64-bit)
        
        ### üçé macOS
        - **macOS 10.13+** (64-bit)
        
        ## üì¶ –í–µ—Ä—Å–∏–∏ –≤ —Ä–µ–ª–∏–∑–µ
        
        ### Windows:
        ```
        Windows7/
        ‚îú‚îÄ‚îÄ AgiAnalytics_Win7_x86.exe
        ‚îî‚îÄ‚îÄ AgiAnalytics_Win7_x64.exe
        
        Windows10/
        ‚îú‚îÄ‚îÄ AgiAnalytics_Win10_x86.exe
        ‚îî‚îÄ‚îÄ AgiAnalytics_Win10_x64.exe
        ```
        
        ### macOS:
        ```
        macOS/
        ‚îú‚îÄ‚îÄ AgiAnalytics_macOS.tar.gz
        ‚îî‚îÄ‚îÄ README_macOS.txt
        ```
        
        ## üìã –°–∏—Å—Ç–µ–º–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
        
        ### Windows:
        - Windows 7 SP1 –∏–ª–∏ –Ω–æ–≤–µ–µ
        - .NET Framework 4.5 (–¥–ª—è Windows 7)
        - 2 –ì–ë –û–ó–£
        - 100 –ú–ë —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ –º–µ—Å—Ç–∞
        
        ### macOS:
        - macOS 10.13 (High Sierra) –∏–ª–∏ –Ω–æ–≤–µ–µ
        - 2 –ì–ë –û–ó–£
        - 100 –ú–ë —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ –º–µ—Å—Ç–∞
        
        ## üîß –°–±–æ—Ä–∫–∞
        - –ù–æ–º–µ—Ä —Å–±–æ—Ä–∫–∏: ${{ github.run_number }}
        - –î–∞—Ç–∞: $(date +%Y-%m-%d)
        EOF

    - name: Create release archives
      run: |
        # –°–æ–∑–¥–∞–µ–º –æ—Ç–¥–µ–ª—å–Ω—ã–µ –∞—Ä—Ö–∏–≤—ã –¥–ª—è –∫–∞–∂–¥–æ–π –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã
        cd release_files
        
        # –ê—Ä—Ö–∏–≤ –¥–ª—è Windows
        tar -czf ../AgiAnalytics_Windows_All.tar.gz Windows7/ Windows10/ README_Windows.txt
        
        # –ê—Ä—Ö–∏–≤ –¥–ª—è macOS
        tar -czf ../AgiAnalytics_macOS.tar.gz macOS/ README_macOS.txt
        
        # –ü–æ–ª–Ω—ã–π –∞—Ä—Ö–∏–≤ (–≤—Å–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã)
        tar -czf ../AgiAnalytics_All_Platforms.tar.gz ./
        
        cd ..
        
        echo "‚úÖ –ê—Ä—Ö–∏–≤—ã —Å–æ–∑–¥–∞–Ω—ã:"
        echo "  - AgiAnalytics_Windows_All.tar.gz (—Ç–æ–ª—å–∫–æ Windows)"
        echo "  - AgiAnalytics_macOS.tar.gz (—Ç–æ–ª—å–∫–æ macOS)"
        echo "  - AgiAnalytics_All_Platforms.tar.gz (–≤—Å–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã)"
        
        ls -la *.tar.gz

    - name: Create GitHub Release
      uses: softprops/action-gh-release@v1
      env:
        GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
      with:
        files: |
          AgiAnalytics_Windows_All.tar.gz
          AgiAnalytics_macOS.tar.gz
          AgiAnalytics_All_Platforms.tar.gz
        tag_name: v${{ github.run_number }}
        name: Release v${{ github.run_number }}
        body: |
          # AgiAnalytics v${{ github.run_number }}
          
          ## üéâ –ú—É–ª—å—Ç–∏–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω—ã–π —Ä–µ–ª–∏–∑
          
          ### ü™ü Windows
          - **Windows 7** (32-bit –∏ 64-bit)
          - **Windows 10/11** (32-bit –∏ 64-bit)
          
          ### üçé macOS
          - **macOS 10.13+** (64-bit)
          
          ## üì¶ –ê—Ä—Ö–∏–≤—ã
          
          | –ê—Ä—Ö–∏–≤ | –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ | –†–∞–∑–º–µ—Ä |
          |-------|------------|--------|
          | `AgiAnalytics_Windows_All.tar.gz` | –í—Å–µ –≤–µ—Ä—Å–∏–∏ –¥–ª—è Windows | $(stat -c%s AgiAnalytics_Windows_All.tar.gz) –±–∞–π—Ç |
          | `AgiAnalytics_macOS.tar.gz` | –í–µ—Ä—Å–∏—è –¥–ª—è macOS | $(stat -c%s AgiAnalytics_macOS.tar.gz) –±–∞–π—Ç |
          | `AgiAnalytics_All_Platforms.tar.gz` | –í—Å–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã | $(stat -c%s AgiAnalytics_All_Platforms.tar.gz) –±–∞–π—Ç |
          
          ## üìã –°–∏—Å—Ç–µ–º–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
          
          ### Windows:
          - Windows 7 SP1 –∏–ª–∏ –Ω–æ–≤–µ–µ
          - .NET Framework 4.5 (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è Windows 7)
          - 2 –ì–ë –û–ó–£
          - 100 –ú–ë —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ –º–µ—Å—Ç–∞
          
          ### macOS:
          - macOS 10.13 (High Sierra) –∏–ª–∏ –Ω–æ–≤–µ–µ
          - 2 –ì–ë –û–ó–£
          - 100 –ú–ë —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ –º–µ—Å—Ç–∞
          
          ## üöÄ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è
          
          1. **–î–ª—è Windows:** –°–∫–∞—á–∞–π—Ç–µ `AgiAnalytics_Windows_All.tar.gz`, —Ä–∞—Å–ø–∞–∫—É–π—Ç–µ –∏ –≤—ã–±–µ—Ä–∏—Ç–µ –≤–µ—Ä—Å–∏—é –¥–ª—è –≤–∞—à–µ–π —Å–∏—Å—Ç–µ–º—ã
          2. **–î–ª—è macOS:** –°–∫–∞—á–∞–π—Ç–µ `AgiAnalytics_macOS.tar.gz`, —Ä–∞—Å–ø–∞–∫—É–π—Ç–µ –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
          3. **–í—Å–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã:** –°–∫–∞—á–∞–π—Ç–µ `AgiAnalytics_All_Platforms.tar.gz` –µ—Å–ª–∏ –Ω—É–∂–Ω—ã –≤—Å–µ –≤–µ—Ä—Å–∏–∏
          
          ## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è
          
          - **Windows:** –ê–Ω—Ç–∏–≤–∏—Ä—É—Å –º–æ–∂–µ—Ç –∑–∞–ø—Ä–æ—Å–∏—Ç—å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –Ω–∞ –∑–∞–ø—É—Å–∫
          - **macOS:** –ü—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ –º–æ–∂–µ—Ç –ø–æ—Ç—Ä–µ–±–æ–≤–∞—Ç—å—Å—è —Ä–∞–∑—Ä–µ—à–∏—Ç—å –∑–∞–ø—É—Å–∫ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
          - **Windows 7:** –ú–æ–≥—É—Ç –ø–æ—Ç—Ä–µ–±–æ–≤–∞—Ç—å—Å—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è Visual C++ Redistributable
          
          ## üîß –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–±–æ—Ä–∫–µ
          - –ù–æ–º–µ—Ä —Å–±–æ—Ä–∫–∏: ${{ github.run_number }}
          - –î–∞—Ç–∞: ${{ github.event.head_commit.timestamp }}
          - –ö–æ–º–º–∏—Ç: [${{ github.sha }}](https://github.com/${{ github.repository }}/commit/${{ github.sha }})
        draft: false
        prerelease: false